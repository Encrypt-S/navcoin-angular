<mz-card class="overview-card grey lighten-5" [horizontal]="true">
  <mz-card-title>
    Wallet Utilities
  </mz-card-title>

  <mz-card-content>
    <div class="row">
      <button
        [disabled]=""
        class="waves-effect waves-light btn left blue lighten-2"
        (click)="updateModal.openModal()"
      >
        Update NavCoin Daemon
      </button>
    </div>

    <div class="row">
      <button
        [disabled]=""
        class="waves-effect waves-light btn left blue lighten-2"
        (click)="backUpModal.openModal()"
      >
        Back Up Wallet
      </button>
    </div>

    <div class="row">
      <button
        [disabled]=""
        class="waves-effect waves-light btn left blue lighten-2"
        (click)="importModal.openModal()"
      >
        Import Existing Wallet
      </button>
    </div>
  </mz-card-content>
</mz-card>

<mz-modal #importModal>
  <mz-modal-header>
    <h4>Import wallet</h4>
  </mz-modal-header>
  <mz-modal-content>
    <p>
      We will need your web interface password in order to import a new wallet.
    </p>

    <form #importWalletForm="ngForm" (ngSubmit)="onSubmitImport()">
      <label>
        Web interface Password:
        <input
        type="password"
        id="importPassword"
        name="password"
        class="validate"
        required
        [(ngModel)]="walletUtils.password"
        />
      </label>
      <label class="file-upload">
        Wallet file:
        <input
        type="file"
        id="wallet"
        name="wallet"
        class="validate"
        required
        [(ngModel)]="walletUtils.wallet"
        />
      </label>
      <button
        mz-button
        mz-modal-close
        class="waves-effect waves-light btn blue lighten-2"
        type="submit"
        [disabled]="!walletUtils.password || !walletUtils.wallet"
      >
        Import Wallet
      </button>
    </form>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" mz-modal-close>Cancel</button>
  </mz-modal-footer>
</mz-modal>

<mz-modal #updateModal>
  <mz-modal-header>
    <h4>Update NavCoin Daemon</h4>
  </mz-modal-header>
  <mz-modal-content>
    <p>
      We will need your web interface password in order to upate the a NavCoin
      Daemon to the latest version
    </p>

    <form #updateDaemonForm="ngForm" (ngSubmit)="onSubmitUpdate()">
      <label>
        Web interface Password:
        <input
        type="password"
        id="updateDaemonPassword"
        name="password"
        class="validate"
        required
        [(ngModel)]="walletUtils.password"
        />
      </label>
      <button
        mz-button
        mz-modal-close
        class="waves-effect waves-light btn blue lighten-2"
        type="submit"
        [disabled]="!walletUtils.password"
      >
        Update Daemon
      </button>
    </form>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" mz-modal-close>Cancel</button>
  </mz-modal-footer>
</mz-modal>

<mz-modal #backUpModal>
  <mz-modal-header>
    <h4>Back Up wallet</h4>
  </mz-modal-header>
  <mz-modal-content>
    <p>
      We will need your web interface password in order to back up your wallet.
      After submitting this form your wallet download will begin.
    </p>

    <form #backupWalletForm="ngForm" (ngSubmit)="onSubmitBackup()">
      <label>
        Web interface Password:
        <input
        type="password"
        id="backupPassword"
        name="password"
        class="validate"
        required
        [(ngModel)]="walletUtils.password"
        />
      </label>
      <button
        mz-button
        mz-modal-close
        class="waves-effect waves-light btn blue lighten-2"
        type="submit"
        [disabled]="!walletUtils.password"
      >
        Backup Wallet
      </button>
    </form>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" mz-modal-close>Cancel</button>
  </mz-modal-footer>
</mz-modal>
